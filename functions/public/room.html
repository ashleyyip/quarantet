<head>
    <link href='https://fonts.googleapis.com/css?family=IBM Plex Sans' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Heebo' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="icon" href="images/logo.png">
    <title>Quarantet</title>

</head>
<body>
    <h1>
        <img id="logo" src="images/logo.svg" width="32" height="32" 
        onclick="{window.location.href = '/' + document.getElementById('recordingName').value}">
    </h1>

    <div class="container">
        <header> 
            <h2 id="title">Quarantet</h2>
        </header>
        <div class="flex-container">
            <p>Room ID:</p>
            <p id="roomID"><%= title %></p>
        </div><br>

        <div class="box-container">
            <div class="box shadow-box">
                <h3>Click Track</h3>
                <div class="counter"></div>
    
                <div class="controls">
                    <label>BPM: 
                        <span>
                            <input type="text" value="60" class="bpm-input" id="bpm-input" />
                        </span>
                    </label>
                    <label>
                        Beat: <input type="text" value="4" class="counter-dots" id="beat-input" />
                    </label>
            
                    <button class="play-btn">Play</button>
                </div>
            </div>
    
            <div class="box shadow-box">
    
                <h3>Record</h3>
                <p id="countdownAlert" ></p>

                <p>
                    <button id=record>Record</button>
                    <button id=stopRecord disabled>Stop</button>
                </p><br>
                <p>
                    <audio id=recordedAudio></audio>
                </p><br>
                
                <p id="partname">Part name:</p>
                <input type="text" id="recordingName" name="recordingName"><br>


                <div class="flex-container">
                    <p>
                        <button id=storeRecord>Store Recording</button>
                    </p>
                    <p id="audioStoringAlert" style="visibility:hidden;">Upload Complete!</p>
                </div>
            </div>

        </div>

        <div class="divider"></div>
        
        <div id="audioRecordings">
            <h3>Current recordings:</h3> 
        </div><br>
        <p>
            <button id=playRecord>Play Recordings</button>
        </p>

        <div class="divider"></div>

        <h3>Instructions:</h3>
        <p>1. Select a tempo for your group's recordings. Once a recording has been made with this tempo, others cannot change it, so choose carefully. <br>
            2. Hit the record button. A 3 bar countdown will begin so you can prepare and start playing.<br>
            3. Give your recording a name, then press the "Store Recording" button. <br>
            4. Share your link with others so they can add their recordings based on the data you've set. <br>
            5. Play your recordings to hear the final product!
        </p>


        <div class="divider" id="footer-divider"></div>

        <div class="footer">
            Made with <span style="color: #6448FB">&hearts;</span> by <a href="https://github.com/ashleyyip">Ashley</a>
        </div>


        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-storage.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-database.js"></script>

        <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

        <script>
            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyC0v0bgTW5d_ERIyaZdeHFV-hdYYbzt6ic",
                authDomain: "quarantet-66755.firebaseapp.com",
                databaseURL: "https://quarantet-66755.firebaseio.com",
                projectId: "quarantet-66755",
                storageBucket: "quarantet-66755.appspot.com",
                messagingSenderId: "725285366722",
                appId: "1:725285366722:web:ec528985e6e4ea6dd2445b",
                measurementId: "G-SRJ6D12NQ2"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();
        </script>

        <script src="recordAudio.js"></script>
        <script src="script.js"></script>

    </div>
</body>
  